(this["webpackJsonpmerx-stack-tracker"]=this["webpackJsonpmerx-stack-tracker"]||[]).push([[0],{170:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(31),c=a.n(o),s=a(24),l=a(28),i=a(15),u=a(16),m=a(18),d=a(17),p=a(19),E=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement(s.b,{className:"navbar-brand",to:"/"},"ExerTra"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement(s.b,{className:"nav-link",to:"/"},"Exercises",r.a.createElement("span",{className:"sr-only"},"(current)"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{className:"nav-link",to:"/create"},"Create Exercise log")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{className:"nav-link",to:"/user"},"Create Uses")))))}}]),t}(n.Component),h=(a(93),a(94),function(){return r.a.createElement("div",{className:"Spinner"})}),f=a(26),g=a(12),b=a.n(g),v=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.onFetchExerciseData()}},{key:"render",value:function(){var e=this,t=r.a.createElement(h,null);return this.props.loading||(t=r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Username"),r.a.createElement("th",{scope:"col"},"Description"),r.a.createElement("th",{scope:"col"},"Duration"),r.a.createElement("th",{scope:"col"},"date"))),r.a.createElement("tbody",null,this.props.exercises.map((function(t){return r.a.createElement("tr",{key:t._id},r.a.createElement("td",null,t.username),r.a.createElement("td",null,t.description.length>=25?t.description.slice(0,25)+"...":t.description),r.a.createElement("td",null,t.duration),r.a.createElement("td",null,new Date(t.date).toDateString()),r.a.createElement("td",null,r.a.createElement(s.b,{to:"/edit/".concat(t._id)},"edit")," |",r.a.createElement("a",{onClick:function(){return e.props.onDeleteExercise(t._id)},href:"#"},"delete")))}))))),r.a.createElement("div",null,t)}}]),t}(n.Component),x=Object(f.b)((function(e){return{exercises:e.exercises.exercises,loading:e.exercises.loading}}),(function(e){return{onFetchExerciseData:function(){return e((function(e){b.a.get("http://localhost:5000/exercises").then((function(t){return e({type:"FETCH_EXERCISES",exercises:t.data})}))}))},onDeleteExercise:function(t){return e(function(e){return function(t){t({type:"START_DELETE_EXERCISE"}),b.a.delete("http://localhost:5000/exercises/".concat(e)).then((function(a){return t(function(e){return{type:"DELETE_EXERCISE",id:e}}(e))}))}}(t))}}}))(v),C=a(40),S=a.n(C),D=(a(74),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChangeUsername=function(e){a.setState({username:e.target.value})},a.onChangeDescription=function(e){a.setState({description:e.target.value})},a.onChangeDuration=function(e){a.setState({duration:e.target.value})},a.onChangeDate=function(e){a.setState({date:e})},a.onSubmit=function(e){e.preventDefault();var t={username:a.state.username,description:a.state.description,duration:a.state.duration,date:a.state.date};a.props.onUpdateExercise(t,a.props.match.params.id),a.props.history.push("/")},a.state={username:"",description:"",duration:0,date:new Date,users:[],loading:!1},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),b.a.get("http://localhost:5000/exercises/".concat(this.props.match.params.id)).then((function(t){e.setState({username:t.data.username,description:t.data.description,duration:t.data.duration,date:new Date(t.data.date),loading:!1})})),b.a.get("http://localhost:5000/users").then((function(t){var a=[];t.data.forEach((function(e){return a.push({id:e._id,username:e.username})})),e.setState({users:a})}))}},{key:"render",value:function(){var e=this,t=r.a.createElement(h,null);return this.state.loading||(t=r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"text-center"},"Edit exercise log"),r.a.createElement("form",{onSubmit:this.onSubmit,style:{width:"60%",margin:"0 auto"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleFormControlSelect1"},"Select name"),r.a.createElement("select",{className:"form-control",id:"exampleFormControlSelect1",ref:"userInput",required:!0,value:this.state.username,onChange:this.onChangeUsername},this.state.users.map((function(e){return r.a.createElement("option",{key:e.id,value:e.username},e.username)})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleFormControlTextarea1"},"Description"),r.a.createElement("textarea",{className:"form-control",id:"exampleFormControlTextarea1",rows:"3",value:this.state.description,onChange:this.onChangeDescription})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleFormControlInput2"},"Duration in (Minutes)"),r.a.createElement("input",{type:"text",className:"form-control",id:"exampleFormControlInput2",placeholder:"duration",value:this.state.duration,onChange:this.onChangeDuration})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleFormControlInput3"},"Date"),r.a.createElement("br",null),r.a.createElement(S.a,{selected:this.state.date,onChange:function(t){return e.onChangeDate(t)}})),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Edit Exercise Log")))),t}}]),t}(n.Component)),N=Object(f.b)(null,(function(e){return{onUpdateExercise:function(t,a){return e(function(e,t){return function(a){b.a.post("http://localhost:5000/exercises/update/".concat(t),e).then((function(e){console.log(e.data),a(function(e){return{type:"UPDATE_EXERCISE",exercise:e}}(e.data))}))}}(t,a))}}}))(D),O=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChangeUsername=function(e){a.setState({username:e.target.value})},a.onChangeDescription=function(e){a.setState({description:e.target.value})},a.onChangeDuration=function(e){a.setState({duration:e.target.value})},a.onChangeDate=function(e){a.setState({date:e})},a.onSubmit=function(e){e.preventDefault();var t={username:a.state.username,description:a.state.description,duration:a.state.duration,date:a.state.date};a.props.onCreateExercise(t),a.props.history.push("/")},a.state={username:"",description:"",duration:0,date:new Date,users:[],loading:!1},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),b.a.get("http://localhost:5000/users").then((function(t){var a=[];t.data.forEach((function(e){return a.push({id:e._id,username:e.username})})),e.setState({users:a,loading:!1})}))}},{key:"render",value:function(){var e=this;return this.state.loading?r.a.createElement(h,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"text-center"},"Create new exercise log"),r.a.createElement("form",{onSubmit:this.onSubmit,style:{width:"60%",margin:"0 auto"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleFormControlSelect1"},"Select name"),r.a.createElement("select",{className:"form-control",id:"exampleFormControlSelect1",ref:"userInput",required:!0,value:this.state.username,onChange:this.onChangeUsername},this.state.users.map((function(e){return r.a.createElement("option",{key:e.id,value:e.username},e.username)})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleFormControlTextarea1"},"Description"),r.a.createElement("textarea",{className:"form-control",id:"exampleFormControlTextarea1",rows:"3",value:this.state.description,onChange:this.onChangeDescription})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleFormControlInput2"},"Duration in (Minutes)"),r.a.createElement("input",{type:"text",className:"form-control",id:"exampleFormControlInput2",placeholder:"duration",value:this.state.duration,onChange:this.onChangeDuration})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleFormControlInput3"},"Date"),r.a.createElement("br",null),r.a.createElement(S.a,{selected:this.state.date,onChange:function(t){return e.onChangeDate(t)}})),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Create Exercise Log")))}}]),t}(n.Component),j=Object(f.b)(null,(function(e){return{onCreateExercise:function(t){return e(function(e){return function(t){b.a.post("http://localhost:5000/exercises/add",e).then((function(e){t(function(e){return{type:"CREATE_EXERCISE",exercise:e}}(e.data))}))}}(t))}}}))(O),y=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChangeUsername=function(e){a.setState({username:e.target.value})},a.onSubmit=function(e){e.preventDefault(),a.setState({loading:!0});var t={username:a.state.username};console.log(t),b.a.post("http://localhost:5000/users/add",t).then((function(e){console.log(e),a.setState({username:"",loading:!1})}))},a.state={username:"",loading:!1},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return this.state.loading?r.a.createElement(h,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"text-center"},"Create new exercise log"),r.a.createElement("form",{onSubmit:this.onSubmit,style:{width:"60%",margin:"0 auto"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleFormControlInput2"},"Username"),r.a.createElement("input",{type:"text",className:"form-control",id:"exampleFormControlInput2",placeholder:"username",value:this.state.username,onChange:this.onChangeUsername})),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit")))}}]),t}(n.Component),F=a(27),_=a(82),I=a(83),T=a(34),k={exercises:[],loading:!0},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_EXERCISES":return Object(T.a)({},e,{exercises:t.exercises,loading:!1});case"CREATE_EXERCISE":return Object(T.a)({},e,{exercises:e.exercises.concat(t.exercise),loading:!1});case"UPDATE_EXERCISE":var a=Object(I.a)(e.exercises).filter((function(e){return e._id!==t.exercise._id}));return a.push(t.exercise),console.log(a),Object(T.a)({},e,{exercises:a,loading:!1});case"DELETE_EXERCISE":return Object(T.a)({},e,{exercises:e.exercises.filter((function(e){return e._id!==t.id})),loading:!1});case"START_DELETE_EXERCISE":return Object(T.a)({},e,{loading:!0});default:return e}},R=Object(F.c)({exercises:w,user:w}),U=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||F.d,X=Object(F.e)(R,U(Object(F.a)(_.a)));var L=function(){return r.a.createElement(f.a,{store:X},r.a.createElement(s.a,null,r.a.createElement(E,null),r.a.createElement("div",{className:"container"},r.a.createElement(l.a,{path:"/",exact:!0,component:x}),r.a.createElement(l.a,{path:"/edit/:id",exact:!0,component:N}),r.a.createElement(l.a,{path:"/create",exact:!0,component:j}),r.a.createElement(l.a,{path:"/user",exact:!0,component:y}))))};c.a.render(r.a.createElement(L,null),document.getElementById("root"))},84:function(e,t,a){e.exports=a(170)},94:function(e,t,a){}},[[84,1,2]]]);
//# sourceMappingURL=main.1f510687.chunk.js.map